// lookup tables for Player

#include "stdafx.h"
#include "PlayerConsts.h"

// index i indicates the percentage draft savings for when you're i decimeters behind the rider in front
const float rgDraftDecimeterLookup[] = {
  0.38f, // right behind -> 38% savings
  0.37884f,
  0.37768f,
  0.37652f,
  0.37536f,
  0.3742f, // 5 decimeters = 50cm behind = 37.42% savings
  0.37304f,
  0.37188f,
  0.37072f,
  0.36956f,
  0.3684f,
  0.36724f,
  0.36608f,
  0.36492f,
  0.36376f,
  0.3626f,
  0.36144f,
  0.36028f,
  0.35912f,
  0.35796f,
  0.3568f,
  0.35564f,
  0.35448f,
  0.35332f,
  0.35216f,
  0.351f,
  0.34984f,
  0.34868f,
  0.34752f,
  0.34636f,
  0.3452f,
  0.341026667f,
  0.336853333f,
  0.33268f,
  0.328506667f,
  0.324333333f,
  0.32016f,
  0.315986667f,
  0.311813333f,
  0.30764f,
  0.303466667f,
  0.299293333f,
  0.29512f,
  0.290946667f,
  0.286773333f,
  0.2826f,
  0.278426667f,
  0.274253333f,
  0.27008f,
  0.265906667f,
  0.261733333f,
  0.25756f,
  0.253386667f,
  0.249213333f,
  0.24504f,
  0.240866667f,
  0.236693333f,
  0.23252f,
  0.228346667f,
  0.224173333f,
  0.22f,
  0.215826667f,
  0.211653333f,
  0.20748f,
  0.203306667f,
  0.199133333f,
  0.19496f,
  0.190786667f,
  0.186613333f,
  0.18244f,
  0.178266667f,
  0.174093333f,
  0.16992f,
  0.165746667f,
  0.161573333f,
  0.1574f,
  0.153226667f,
  0.149053333f,
  0.14488f,
  0.140706667f,
  0.136533333f,
  0.13236f,
  0.128186667f,
  0.124013333f,
  0.11984f,
  0.115666667f,
  0.111493333f,
  0.10732f,
  0.103146667f,
  0.098973333f,
  0.0944f,
  0.087213333f,
  0.080026667f,
  0.07284f,
  0.065653333f,
  0.058466667f,
  0.05128f,
  0.044093333f,
  0.036906667f,
  0.02972f,
  0.022533333f,
};
float GetDraftFromDistance(float flMeters)
{
  const int iDecimeters = (int)(flMeters*10.0f);
  DASSERT(iDecimeters >= 0 && iDecimeters < 100);
  return rgDraftDecimeterLookup[iDecimeters];
}
/*
const float rgShiftLookup[] = {
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0.124998f,
0.299998f,
0.474998f,
0.649998f,
0.824998f,
0.999998f,
0.825002f,
0.650002f,
0.475002f,
0.300002f,
0.125002f,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
0,
};

float GetShiftMod(float flXShift)
{
  static const float* pflMiddle = &rgShiftLookup[50];
  const int ixSlot = (int)(flXShift/0.07f);
  DASSERT(ixSlot >= -50 && ixSlot < 50);
  return pflMiddle[ixSlot];
}*/